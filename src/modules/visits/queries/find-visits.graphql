query findVisits(
	$where: cp_visit_bool_exp
	$offset: Int!
	$limit: Int!
	$orderBy: cp_visit_order_by! = {}
) {
	cp_visit(where: $where, offset: $offset, limit: $limit, order_by: [$orderBy]) {
		id
		cp_space_id
		user_profile_id
		user_profile {
			id
			full_name
			first_name
			last_name
			mail
		}
		user_reason
		user_timeframe
		status
		start_date
		end_date
		notes(order_by: { created_at: desc }, limit: 1) {
			id
			note
			profile {
				full_name
			}
			created_at
		}
		created_at
		updated_at
		space {
			id
			schema_image
			schema_color
			schema_audience_type
			schema_description
			schema_public_access
			schema_service_description
			is_published
			published_at
			created_at
			updated_at
			schema_maintainer {
				schema_name
				schema_identifier
				information {
					description
					logo {
						iri
					}
					primary_site {
						address {
							email
							locality
							postal_code
							street
							telephone
							post_office_box_number
						}
					}
				}
			}
		}
		updater {
			id
			full_name
		}
	}
	cp_visit_aggregate(where: $where) {
		aggregate {
			count
		}
	}
}
