mutation updateMaterialRequest(
	$materialRequestId: uuid
	$userProfileId: uuid
	$updateMaterialRequest: app_material_requests_set_input
) {
	delete_app_material_request_reuse_form_values(
		where: { material_request_id: { _eq: $materialRequestId } }
	) {
		affected_rows
	}
	update_app_material_requests(
		where: { id: { _eq: $materialRequestId }, profile_id: { _eq: $userProfileId } }
		_set: $updateMaterialRequest
	) {
		returning {
			id
			ie_object_id
			profile_id
			reason
			type
			created_at
			updated_at
			requested_at
			approved_at
			denied_at
			cancelled_at
			is_pending
			status
			status_motivation
			group_id
			name
			download_url
			requester_capacity
			organisation
			requested_by {
				id
				full_name
				mail
				language
			}
			intellectualEntity {
				schema_identifier
				schema_name
				id
				dctermsFormat(limit: 1) {
					dcterms_format
				}
				schemaThumbnail {
					schema_thumbnail_url
				}
				schemaMaintainer {
					org_identifier
					skos_pref_label
					ha_org_has_logo
					skos_alt_label
					visitorSpace {
						slug
					}
				}
			}
			ie_object_representation_id
			objectRepresentation {
				id
				schema_name
				is_media_fragment_of
				schema_in_language
				schema_start_time
				schema_end_time
				schema_transcript
				schemaTranscriptUrls {
					schema_transcript
					schema_transcript_url
				}
				edm_is_next_in_sequence
				updated_at
				includes {
					file {
						id
						schema_name
						ebucore_has_mime_type
						premis_stored_at
						schema_thumbnail_url
						schema_duration
						edm_is_next_in_sequence
						created_at
					}
				}
			}
			material_request_reuse_form_values {
				key
				value
			}
		}
	}
}
